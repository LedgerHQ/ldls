import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as InteractiveIconStories from './InteractiveIcon.stories';
import { InteractiveIcon } from './InteractiveIcon';
import { CustomTabs, Tab } from '../../../../.storybook/CustomTabs';
import { DoVsDontRow } from '../../../../.storybook/DoVsDontRow';
import { DoBlockItem } from '../../../../.storybook/DoBlock';
import { DontBlockItem } from '../../../../.storybook/DontBlock';

<Meta title='Components/InteractiveIcon' of={InteractiveIconStories} />

# üéØ InteractiveIcon

<CustomTabs>
  <Tab label="Overview">

## Introduction

InteractiveIcons are specialized interactive elements designed exclusively for icon-based actions. They provide a compact way to trigger actions while maintaining clear visual hierarchy through two distinct styles optimized for different icon types.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=6975-2571).

## Anatomy

<Canvas of={InteractiveIconStories.IconTypeShowcase} />

- **Icon**: The visual representation of the action, displayed as a single icon element from the design system
- **Container**: A circular touch target that provides the interactive area and visual feedback

## Properties

### Overview

<Canvas of={InteractiveIconStories.Filled} />
<Controls of={InteractiveIconStories.Filled} />

### Icon Types

InteractiveIcons come in two visual styles, each optimized for specific use cases:

- **filled**: Best for filled/solid icons. Features a transparent background with colored icon that changes on interaction
- **stroked**: Best for outlined icons. Features a subtle background that appears on hover with colored icon states

<Canvas of={InteractiveIconStories.IconTypeShowcase} />

### Icon Sizes

InteractiveIcons support various icon sizes to accommodate different use cases and screen densities:

<Canvas of={InteractiveIconStories.SizesShowcase} />

Common sizes include:

- **16px**: Compact actions in dense interfaces
- **20px**: Standard size for most interactive icons
- **24px**: Prominent actions in toolbars
- **40px**: Large touch targets for mobile interfaces

> **‚ö†Ô∏è Important**: Icon sizes are controlled by the icon component itself, not through CSS classes. Always use the `size` prop on your icon component (e.g., `<Settings size={20} />`) to ensure proper scaling and visual consistency.

### Icon States

InteractiveIcons have enabled or disabled states:

<Canvas of={InteractiveIconStories.StatesShowcase} />

## Accessibility

InteractiveIcons require special attention for accessibility since they contain only visual icons without text:

### Screen Reader Support

**Always provide an `aria-label` prop** that clearly describes the action:

```tsx
<InteractiveIcon iconType='filled' aria-label='Delete item'>
  <DeleteCircleFill size={20} />
</InteractiveIcon>
```

### Keyboard Navigation

InteractiveIcons support full keyboard navigation:

- **Tab**: Moves focus to the interactive element
- **Enter/Space**: Activates the action
- **Focus ring**: Visible outline for keyboard users

</Tab>
<Tab label="Implementation">

```bash
npm install @ledgerhq/ldls-ui-react
```

> **Note**: `@ledgerhq/ldls-design-core` and other peer dependencies (`react`, `tailwindcss`, `clsx`, etc.) are required. See our [Setup Guide ‚Üí](?path=/docs/getting-started-setup-tailwind--docs#1-tailwind-config) for complete installation and Tailwind configuration.

## Usage examples

### Basic usage

```tsx
import { InteractiveIcon } from '@ledgerhq/ldls-ui-react';
import { Settings, DeleteCircleFill } from '@ledgerhq/ldls-ui-react/symbols';

function MyComponent() {
  return (
    <div>
      {/* Stroked interactive icon */}
      <InteractiveIcon
        iconType='stroked'
        aria-label='Open settings'
        onClick={handleSettings}
      >
        <Settings size={20} />
      </InteractiveIcon>

      {/* Filled interactive icon */}
      <InteractiveIcon
        iconType='filled'
        aria-label='Delete item'
        onClick={handleDelete}
      >
        <DeleteCircleFill size={20} />
      </InteractiveIcon>
    </div>
  );
}
```

### With Event Handlers

```tsx
import { InteractiveIcon } from '@ledgerhq/ldls-ui-react';
import {
  CheckmarkCircle,
  CheckmarkCircleFill,
} from '@ledgerhq/ldls-ui-react/symbols';

function LikeButton({ isSelected, onToggle }) {
  return (
    <InteractiveIcon
      iconType={isSelected ? 'filled' : 'stroked'}
      aria-label={isSelected ? 'Deselect' : 'Select'}
      onClick={onToggle}
    >
      {isSelected ? (
        <CheckmarkCircleFill size={20} />
      ) : (
        <CheckmarkCircle size={20} />
      )}
    </InteractiveIcon>
  );
}
```

### Different Icon Sizes

```tsx
import { InteractiveIcon } from '@ledgerhq/ldls-ui-react';
import { Settings } from '@ledgerhq/ldls-ui-react/symbols';

function SizeExamples() {
  return (
    <div className='flex items-center gap-4'>
      {/* Compact size for dense interfaces */}
      <InteractiveIcon iconType='stroked' aria-label='Settings'>
        <Settings size={16} />
      </InteractiveIcon>

      {/* Standard size */}
      <InteractiveIcon iconType='stroked' aria-label='Settings'>
        <Settings size={20} />
      </InteractiveIcon>

      {/* Prominent size */}
      <InteractiveIcon iconType='stroked' aria-label='Settings'>
        <Settings size={24} />
      </InteractiveIcon>

      {/* Large touch target for mobile */}
      <InteractiveIcon iconType='stroked' aria-label='Settings'>
        <Settings size={40} />
      </InteractiveIcon>
    </div>
  );
}
```

## Do's and Don'ts

The following guidelines are based on our design system principles and accessibility best practices for icon-only interactive elements.

<div className='flex flex-col gap-24'>
  <DoVsDontRow>
    <DoBlockItem
      title='Use appropriate icon types'
      description='Match icon style with variant and use consistent sizes'
    >

```tsx
import { DeleteCircleFill } from '@ledgerhq/ldls-ui-react/symbols';

<InteractiveIcon iconType='filled' aria-label='Delete'>
  <DeleteCircleFill size={20} />
</InteractiveIcon>;
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't mix icon styles"
      description='Avoid mismatched icon styles or inconsistent sizes in same context'
    >

{/* prettier-ignore */}
```tsx
<InteractiveIcon iconType='stroked' aria-label='Delete'>
  <DeleteCircleFill size={20} />
</InteractiveIcon>
```

    </DontBlockItem>

  </DoVsDontRow>

  <DoVsDontRow>
    <DoBlockItem
      title='Always provide descriptive aria-label'
      description='Ensure proper accessibility for screen readers'
    >

```tsx
<InteractiveIcon iconType='stroked' aria-label='Download PDF document'>
  <Download size={20} />
</InteractiveIcon>
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't omit aria-label"
      description='Avoid omitting labels or using generic/icon names as labels'
    >

{/* prettier-ignore */}
```tsx
<InteractiveIcon iconType='stroked'>
  <Settings size={20} />
</InteractiveIcon>

```

    </DontBlockItem>

  </DoVsDontRow>

  <DoVsDontRow>
    <DoBlockItem
      title='Use className for layout'
      description='Positioning and responsive behavior are allowed'
    >

```tsx
<InteractiveIcon
  iconType='stroked'
  className='absolute top-4 right-4'
  aria-label='Close'
>
  <Close size={20} />
</InteractiveIcon>
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't override core styling"
      description='Core appearance, size constraints, and padding should not be modified'
    >

{/* prettier-ignore */}
```tsx
<InteractiveIcon 
  iconType='stroked' 
  aria-label='Settings'
  className='bg-interactive text-on-interactive'
>
  <Settings size={20} />
</InteractiveIcon>
```

    </DontBlockItem>

  </DoVsDontRow>

  <DoVsDontRow>
    <DoBlockItem
      title='Only render icon components'
      description='Import specific icons for better tree-shaking'
    >

```tsx
import { Settings } from '@ledgerhq/ldls-ui-react/symbols';

<InteractiveIcon iconType='stroked' aria-label='More actions'>
  <MoreVertical size={20} />
</InteractiveIcon>;
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't render arbitrary content"
      description='Avoid rendering text or importing entire icon library'
    >

{/* prettier-ignore */}
```tsx
import { Settings } from '@ledgerhq/ldls-ui-react/symbols';

<InteractiveIcon iconType='stroked' aria-label='More actions'>
  Settings
</InteractiveIcon>

```

    </DontBlockItem>

  </DoVsDontRow>
</div>

</Tab>
</CustomTabs>
