import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Components/Spot/Implementation" />

# Spot Component Implementation

## Installation

Install the packages and their peer dependencies:

```bash
# Install the UI Kit
npm install @ledgerhq/ldls-ui-react @ledgerhq/ldls-design-core

# Install peer dependencies
npm install tailwindcss@^3.4.0 react@^18.3.1 clsx tailwind-merge class-variance-authority
```

### Tailwind Configuration

To use the Spot component with our custom Tailwind preset, you need to configure your `tailwind.config.ts`:

```typescript
import type { Config } from 'tailwindcss';
import { ledgerLivePreset } from '@ledgerhq/ldls-design-core';

const config = {
  content: [
    "./src/**/*.{js,ts,jsx,tsx}", // Your project's files
    "./node_modules/@ledgerhq/ldls-ui-react/dist/lib/**/*.{js,ts,jsx,tsx}" // Ledger UI Kit components
  ],
  presets: [ledgerLivePreset], // the installed tailwind preset
} satisfies Config;

export default config;
```

### Basic Usage

```tsx
import { Spot } from '@ledgerhq/ldls-ui-react';

function MyComponent() {
  return (
    <Spot appearance="check" />
  );
}
```

### Custom Styling

While the component comes with predefined styles, you can extend them using Tailwind classes:

```tsx
<Spot
  appearance="icon"
  icon={Settings}
  className="mt-4 ml-2"
/>
```

### With Icons

The Spot component supports custom icons through the discriminated union type system:

```tsx
import { Spot } from '@ledgerhq/ldls-ui-react';
import { Settings, Heart, Star } from '@ledgerhq/ldls-ui-react/symbols';

function MyComponent() {
  return (
    <div className="flex gap-4">
      <Spot appearance="icon" icon={Settings} />
      <Spot appearance="icon" icon={Heart} />
      <Spot appearance="icon" icon={Star} />
    </div>
  );
}
```

### With Numbers

The Spot component can display numeric values from 0-9:

```tsx
import { Spot } from '@ledgerhq/ldls-ui-react';

function MyComponent() {
  return (
    <div className="flex gap-4">
      <Spot appearance="number" number={1} />
      <Spot appearance="number" number={2} />
      <Spot appearance="number" number={3} />
    </div>
  );
}
```

### Status Indicators

Spot is designed for status indication with predefined appearances:

```tsx
import { Spot } from '@ledgerhq/ldls-ui-react';

function StatusIndicators() {
  return (
    <div className="flex gap-4">
      {/* Success state */}
      <Spot appearance="check" />

      {/* Error state */}
      <Spot appearance="error" />

      {/* Warning state */}
      <Spot appearance="warning" />

      {/* Info state */}
      <Spot appearance="info" />

      {/* Loading state */}
      <Spot appearance="loader" />

      {/* Connectivity */}
      <Spot appearance="bluetooth" />
    </div>
  );
}
```

## Do's and Don'ts

### Icon and Number Props

✅ **Do**

```tsx
// Import specific icons for better tree-shaking
import { Settings, Heart } from '@ledgerhq/ldls-ui-react/symbols';

// Use icon prop for custom icons
<Spot appearance="icon" icon={Settings} />

// Use number prop for numeric display
<Spot appearance="number" number={5} />

// Use appropriate number values
<Spot appearance="number" number={0} /> // Valid: 0-9
```

❌ **Don't**

```tsx
// Don't import entire icon library
import * as Icons from '@ledgerhq/ldls-ui-react/symbols';

// Don't pass invalid number values
<Spot appearance="number" number={10} /> // Invalid: only 0-9 allowed

// Don't omit required props for discriminated types
<Spot appearance="icon" /> // Missing required 'icon' prop
<Spot appearance="number" /> // Missing required 'number' prop

// Don't use wrong prop types
<Spot appearance="icon" icon="settings" /> // Should be component, not string
```

### Layout and Styling

✅ **Do**

```tsx
// Use className for layout positioning
<Spot appearance="check" className="mt-4 ml-2" />

// Use className for positioning
<Spot appearance="error" className="absolute top-0 right-0" />

// Use className for different positions between mobile and desktop
<Spot appearance="info" className="hidden md:block" />
```

❌ **Don't**

```tsx
// Don't override spot's core styling
<Spot appearance="check" className="bg-error" />

// Don't modify internal spacing/padding
<Spot appearance="error" className="p-6" />

// Don't override typography - spot has fixed sizing
<Spot appearance="number" className="body-3" />

// Don't override border radius
<Spot appearance="check" className="rounded-lg" />
```

> **Note**: Use `className` only for layout-related utilities (positioning, margins, display properties). The spot's core styling (colors, size, shape) should be controlled through the `appearance` prop to maintain design system consistency. The Spot component has a fixed 48px size and circular shape that cannot be modified.

### Status vs Interaction

✅ **Do**

```tsx
// Use Spot for status indication only
<Spot appearance="check" /> // Status indicator
```

❌ **Don't**

```tsx
// Don't make spots directly interactive
<Spot appearance="check" className="cursor-pointer" onClick={handleClick} />
```

### Performance Considerations

✅ **Do**

```tsx
// Import specific symbols for better tree-shaking
import { Settings, Bluetooth } from '@ledgerhq/ldls-ui-react/symbols';
```

❌ **Don't**

```tsx
// Don't import all symbols
import * as AllSymbols from '@ledgerhq/ldls-ui-react/symbols';
```

### TypeScript Usage

✅ **Do**

```tsx
// Literal type for better type safety
<Spot appearance="check" />

// Discriminated union
<Spot appearance="icon" icon={Settings} />
```

❌ **Don't**

```tsx
// Don't use string literals for appearance
<Spot appearance={'check'} />

// Don't bypass discriminated union
<Spot appearance="icon" /> // Missing required icon prop
```
