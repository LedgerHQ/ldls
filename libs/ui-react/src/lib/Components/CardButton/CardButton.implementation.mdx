import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Components/CardButton/Implementation" />

# CardButton Component Implementation

## Installation

Install the packages and their peer dependencies:

```bash
# Install the UI Kit
npm install @ledgerhq/ldls-ui-react @ledgerhq/ldls-design-core

# Install peer dependencies
npm install tailwindcss@^3.4.0 react@^18.3.1 clsx tailwind-merge class-variance-authority
```

### Tailwind Configuration

To use the CardButton component with our custom Tailwind preset, you need to configure your `tailwind.config.ts`:

```typescript
import type { Config } from 'tailwindcss';
import { ledgerLivePreset } from '@ledgerhq/ldls-design-core';

const config = {
  content: [
    "./src/**/*.{js,ts,jsx,tsx}", // Your project's files
    "./node_modules/@ledgerhq/ldls-ui-react/dist/lib/**/*.{js,ts,jsx,tsx}" // Ledger UI Kit components
  ],
  presets: [ledgerLivePreset], // the installed tailwind preset
} satisfies Config;

export default config;
```

### Basic Usage

```tsx
import { CardButton } from '@ledgerhq/ldls-ui-react';

function MyComponent() {
  return (
    <CardButton
      title="Payment Method"
      description="Add or edit your payment information"
      appearance="base"
    />
  );
}
```

### With Icon

The CardButton component supports icons that automatically scale to 24px size:

```tsx
import { CardButton } from '@ledgerhq/ldls-ui-react';
import { CreditCard } from '@ledgerhq/ldls-ui-react/symbols';

function MyComponent() {
  return (
    <CardButton
      icon={CreditCard}
      title="Payment Method"
      description="Add or edit your payment information"
      appearance="base"
    />
  );
}
```

### Without Chevron

By default, a ChevronRight icon will be rendered on the right side. Use the `hideChevron` prop to hide it:

```tsx
<CardButton
  title="Settings"
  description="Configure your account preferences"
  hideChevron
  appearance="base"
/>
```

### Full Width

Use the `isFull` prop to make the card button take the full width of its container:

```tsx
<CardButton
  title="Continue Setup"
  description="Complete your account configuration"
  isFull
  appearance="base"
/>
```

### Outline Appearance

Use the outline appearance for a more subtle card style:

```tsx
<CardButton
  title="Optional Feature"
  description="Enable this feature for enhanced functionality"
  appearance="outline"
/>
```

### Custom Styling

While the component comes with predefined styles, you can extend them using Tailwind classes for layout purposes:

```tsx
<CardButton
  title="Mobile Only"
  description="This option is only available on mobile"
  className="md:hidden" // Custom responsive display
  appearance="base"
/>
```

## Do's and Don'ts

The following guidelines ensure consistent usage of the CardButton component and maintain design system principles.

### Layout and Styling

✅ **Do**

```tsx
// Use className for layout positioning
<CardButton
  title="Payment"
  description="Manage payment methods"
  className="mt-4 ml-2"
/>

// Use className for responsive behavior
<CardButton
  title="Desktop Feature"
  description="This feature is only available on desktop"
  className="hidden md:block"
/>

// Use isFull for full-width layouts
<CardButton
  title="Continue"
  description="Proceed to the next step"
  isFull
/>
```

❌ **Don't**

```tsx
// Don't override core button styling
<CardButton
  title="Custom"
  description="Wrong styling"
  className="bg-black text-white"
/>

// Don't modify internal spacing
<CardButton
  title="Wrong"
  description="Don't do this"
  className="gap-8 p-6"
/>

// Don't override typography classes
<CardButton
  title="Bad"
  description="Typography override"
  className="heading-2"
/>

// Don't modify border radius or outline styles
<CardButton
  title="Wrong"
  description="Don't override borders"
  className="rounded-full border-2"
  appearance="outline"
/>
```

### Icon Usage

✅ **Do**

```tsx
// Import icons explicitly for better tree-shaking
import { Settings, CreditCard, Shield } from '@ledgerhq/ldls-ui-react/symbols';

// Use semantically appropriate icons
<CardButton
  icon={Settings}
  title="Settings"
  description="Configure your preferences"
/>

// Let CardButton handle icon sizing automatically
<CardButton
  icon={CreditCard}
  title="Payment"
  description="Manage payment methods"
/>
```

❌ **Don't**

```tsx
// Don't import entire icon library
import * as Icons from '@ledgerhq/ldls-ui-react/symbols';

// Don't try to customize icon size
<CardButton
  title="Wrong"
  description="Don't customize icon size"
  icon={() => <Settings size={20} />}
/>

// Don't use string-based icon references
<CardButton
  icon="settings" // Wrong - should be component reference
  title="Settings"
  description="Configure preferences"
/>
```

### Performance Considerations

✅ **Do**

```tsx
// Import specific icons for better tree-shaking
import { CreditCard } from '@ledgerhq/ldls-ui-react/symbols';

// Use proper event handlers
<CardButton
  title="Process Payment"
  description="Complete your transaction"
  onClick={handlePayment}
/>
```

❌ **Don't**

```tsx
// Don't import all icons
import * as AllIcons from '@ledgerhq/ldls-ui-react/symbols';

// Don't use inline functions for complex operations
<CardButton
  title="Complex Action"
  description="This will take some time"
  onClick={() => {
    // Complex inline logic here...
    performComplexOperation();
    updateMultipleStates();
    makeAPICall();
  }}
/>
```
