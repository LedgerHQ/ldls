import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as CardButtonStories from './CardButton.stories';
import { CardButton } from './CardButton';
import { CustomTabs, Tab } from '../../../../.storybook/CustomTabs';
import {
  DoVsDontRow,
  DoBlockItem,
  DontBlockItem,
} from '../../../../.storybook/DoVsDont';
import CommonRulesDoAndDont from '../../../../.storybook/DoVsDont/CommonRulesDoAndDont.mdx';

<Meta title='Components/CardButton' of={CardButtonStories} />

# üÉè CardButton

<CustomTabs>
  <Tab label="Overview">

## Introduction

CardButtons are interactive elements designed for presenting options, settings, or navigation items in a card-like format. They provide a structured way to display a title and optional description, icon, and navigation chevron, making them ideal for menus, settings panels, and option lists.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=89-525&m=dev).

## Anatomy

<Canvas of={CardButtonStories.FullFeatures} />

- **Icon (optional)**: visually communicates the card's purpose or category
- **Title**: the main label describing the action or option
- **Description (optional)**: provides additional context or explanation
- **Hide chevron (optional)**: hides the chevron right icon that is displayed by default on the right side

## Properties

### Overview

<Canvas of={CardButtonStories.Base} />
<Controls of={CardButtonStories.Base} />

### Appearance

There are two CardButton appearances, indicating different visual emphasis:

- **base** (default): solid background for primary options
- **outline**: dashed outline for secondary or alternative options

<Canvas of={CardButtonStories.AppearanceShowcase} />

### Content Variations

CardButtons support flexible content combinations to suit different use cases:

- **Title + Description**: provides additional explanation
- **Title + Icon + Description**: combines visual context with detailed explanation for enhanced clarity
- **Title + Description + Chevron**: provides detailed explanation with clear navigation indication
- **Complete card**: combines all elements for rich, informative options
- **Title + Icon**: adds visual context to the option
- **Title + Chevron**: indicates navigation or expansion

<Canvas of={CardButtonStories.ContentVariations} />

> **Note**: The title is required, while icon, description, and hideChevron are all optional and can be combined as needed.

### States

CardButtons support standard interactive states for both appearance variants:

<Canvas of={CardButtonStories.StatesShowcase} />

### Width Behavior

CardButtons naturally flow within their containers and adapt their width based on content:

<Canvas of={CardButtonStories.NaturalWidth} />

## Responsive Layout

CardButtons automatically adapt to their container constraints while maintaining proper content layout:

<Canvas of={CardButtonStories.ResponsiveLayout} />

> **Key behaviors:**
>
> - CardButtons flow naturally to fit their parent container width
> - Container elements control the button width, not the component itself
> - Long titles and descriptions automatically wrap and truncate as needed
> - Icons (including the chevron) maintain fixed sizes for visual consistency

## Accessibility

To be implemented:

- **Color contrast**: ensure sufficient contrast for all appearance variants
- **Text zoom**: maintain usability when text is enlarged
- **Keyboard navigation**: full keyboard accessibility support
- **Semantic labeling**: proper ARIA attributes for screen readers
- **Focus management**: clear focus indicators and logical tab order

</Tab>
<Tab label="Implementation">

```bash
npm install @ledgerhq/ldls-ui-react
```

> **Note**: `@ledgerhq/ldls-design-core` and other peer dependencies (`react`, `tailwindcss`, `clsx`, etc.) are required. See our [Setup Guide ‚Üí](?path=/docs/getting-started-setup-tailwind--docs#1-tailwind-config) for complete installation and Tailwind configuration.

## Basic Usage

```tsx
import { CardButton } from '@ledgerhq/ldls-ui-react';

function MyComponent() {
  return (
    <CardButton
      title='Payment Method'
      description='Add or edit your payment information'
      appearance='base'
    />
  );
}
```

### With Icon

The CardButton component supports icons that automatically scale to 24px size:

```tsx
import { CardButton } from '@ledgerhq/ldls-ui-react';
import { CreditCard } from '@ledgerhq/ldls-ui-react/symbols';

function MyComponent() {
  return (
    <CardButton
      icon={CreditCard}
      title='Payment Method'
      description='Add or edit your payment information'
      appearance='base'
    />
  );
}
```

### Without Chevron

By default, a ChevronRight icon will be rendered on the right side. Use the `hideChevron` prop to hide it:

```tsx
<CardButton
  title='Settings'
  description='Configure your account preferences'
  hideChevron
  appearance='base'
/>
```

### Natural Width Behavior

CardButtons automatically flow to fit their parent container width. No additional props are needed:

```tsx
<CardButton
  title='Continue Setup'
  description='Complete your account configuration'
  appearance='base'
/>
```

To control card button width, use container elements:

```tsx
/* Full container width */
<CardButton
  title='Full Width'
  description='This button fills the container width'
/>;

/* Constrained width */
<div className='max-w-md'>
  <CardButton
    title='Constrained'
    description='This button is limited by its container'
  />
</div>;

/* Responsive width */
<div className='w-full lg:max-w-lg'>
  <CardButton
    title='Responsive'
    description='Width adapts based on screen size'
  />
</div>;
```

### Outline Appearance

Use the outline appearance for a more subtle card style:

```tsx
<CardButton
  title='Optional Feature'
  description='Enable this feature for enhanced functionality'
  appearance='outline'
/>
```

### Custom Styling

While the component comes with predefined styles, you can extend them using Tailwind classes for layout purposes:

```tsx
<CardButton
  title='Mobile Only'
  description='This option is only available on mobile'
  className='md:hidden' // Custom responsive display
  appearance='base'
/>
```

## Do's and Don'ts

The following guidelines ensure consistent usage of the CardButton component and maintain design system principles.

<div className='flex flex-col gap-24'>
  <DoVsDontRow>
    <DoBlockItem
      title='Use icon prop correctly'
      description='Pass icon as a component reference for proper sizing'
    >

```tsx
import { Settings } from '@ledgerhq/ldls-ui-react/symbols';

<CardButton
  icon={Settings}
  title='Settings'
  description='Configure preferences'
/>;
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't customize icon size"
      description='Avoid customizing icon size or passing strings'
    >

{/* prettier-ignore */}
```tsx
import { Settings } from '@ledgerhq/ldls-ui-react/symbols';

<CardButton
  icon={() => <Settings size={20} />}
  title='Settings'
  description='Configure preferences'
/>
```

    </DontBlockItem>

  </DoVsDontRow>

  <CommonRulesDoAndDont />
</div>

</Tab>
</CustomTabs>
