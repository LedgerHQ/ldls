import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as ButtonStories from './Button.stories';
import Button from './Button';

<Meta title="Components/Button/Docs" of={ButtonStories} />

# üîò Button

## Introduction

Buttons are key interactive elements that trigger actions and guide users through the interface. They come in various styles and states to reflect hierarchy, intent, and context.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=9-28&m=dev)

## Anatomy

<Canvas of={ButtonStories.IconText} />

- **Label**: describes the action that occurs when the button is tapped
- **Icon (optional)**: visually communicate the button's action, and helps draw attention

## Properties

### Overview

<Canvas of={ButtonStories.Base} />
<Controls of={ButtonStories.Base} />

### Appearance

There are five button appearances, which indicate its emphasis. From strongest to weakest:

- accent
- base (default)
- gray
- transparent
- no-background
- error

<Canvas of={ButtonStories.AppearanceShowcase} />

### Content

Buttons' contents can be of three types:

- text (default)
- icon-text
- icon

<Canvas of={ButtonStories.ContentTypesShowcase} />

> Note: Buttons of the smallest size XS can't have a label, so they default to an icon only.

### Size

Buttons come in four different sizes:

- XS (**32 px** tall) **[ICON ONLY]**
- S (**44 px** tall)
- M (default, **48 px** tall)
- L (**56 px** tall)

<Canvas of={ButtonStories.SizesShowcase} />

> **‚ö†Ô∏è Important**: Icon sizes are automatically managed by the Button component based on the selected size. Never override the icon size using className or style props, as this will break the visual consistency of the design system. The Button component ensures proper scaling and alignment of icons across all sizes.
>
> ```tsx
> // ‚úÖ Correct: Let Button handle icon sizing
> <Button size="xs" icon={Settings} aria-label="Settings" />
>
> // ‚ùå Wrong: Don't override icon size [it's not gonna work even if you try]
> <Button size="xs" icon={Settings} className="w-6 h-6" aria-label="Settings" />
> ```

### States

<Canvas of={ButtonStories.StatesShowcase} />

## Responsive Layout

Buttons dynamically adapt their width to the size of their content, while keeping the default paddings:

<Canvas of={ButtonStories.ResponsiveLayout} />

When a label is too long, it's truncated to 2 lines, with a maximum width of the button's container:

<Canvas of={ButtonStories.ResponsiveLayout2} />

> The Button must dynamically resize to its container constraints.

## Accessibility

To be implemented:

- Color contrast
- Text zoom
- Keyboard navigation
- Semantic labeling

### Interactive Examples

<Canvas of={ButtonStories.WithInteraction} />

### Interactive Loading States

<Canvas of={ButtonStories.InteractiveLoadingStates} />

## Example of Implementation

```tsx
import { Button } from '@ldls/ui-react';
import { Plus, Settings } from '@ldls/ui-react/symbols';

// Base Button (default)
<Button >Click me</Button>

// Accent Button
<Button appearance="accent">Submit</Button>

// Gray Button
<Button appearance="gray">Cancel</Button>

// Icon + Text Button
<Button
  appearance="base"
  contentType="icon-text"
  icon={Plus}
>
  Add Item
</Button>

// Icon Only Button
<Button
  appearance="base"
  contentType="icon"
  icon={Settings}
  aria-label="Settings"
/>

// Extra Small Icon Button
<Button
  appearance="base"
  size="xs"
  icon={Settings}
  aria-label="Settings"
/>

// Disabled Button
<Button appearance="base" disabled>
  Not available
</Button>
```

## Do's and Don'ts

### Content Composition

‚úÖ **Do**

```tsx
// Use children for content composition
<Button>
  Accept <em>Terms and Conditions</em>
</Button>

// Pass icon as a component reference
import { Plus } from '@ldls/ui-react/symbols';
<Button icon={Plus}>Add Item</Button>
```

‚ùå **Don't**

```tsx
// Don't use text prop
<Button text="Accept Terms and Conditions" />

// Don't pass icon as a string
<Button icon="Plus">Add Item</Button>

// Don't include icon in children
<Button>
  <Plus /> Add Item
</Button>
```

### Layout and Styling

‚úÖ **Do**

```tsx
// Use className for layout positioning
<Button className="mt-4 ml-2">Submit</Button>

// Use className for positioning
<Button className="absolute top-0 right-0">Close</Button>

// Use className for margins and spacing in layout
<Button className="mx-auto my-4">Centered</Button>

// Use className for different positions between mobile and desktop
<Button className="hidden md:block">Desktop Only</Button>
<Button className="md:hidden">Mobile Only</Button>
```

‚ùå **Don't**

```tsx
// Don't override button's core styling
<Button className="bg-black">Custom Background</Button>

// Don't modify internal spacing/padding
<Button className="gap-4 p-6">Wrong Spacing</Button>

// Don't override typography - use size prop instead
<Button className="heading-2">Wrong Typography</Button>

// Don't modify hover/focus states
<Button className="hover:bg-interactive-hover">Custom Hover</Button>

// Don't override button's border styling
<Button className="border-2 border-interactive">Custom Border</Button>

// Don't override button's radius
<Button className="rounded-full">Custom Radius</Button>
```

> **Note**: Use `className` only for layout-related utilities (positioning, margins, display properties). The button's core styling (colors, padding, gap, hover states, etc.) and typography should be controlled through the component's props (`appearance`, `size`) to maintain design system consistency. Typography classes are handled automatically based on the button's `size` prop.

### Icon Usage

‚úÖ **Do**

```tsx
// Import icons explicitly
import { Settings, Plus } from '@ldls/ui-react/symbols';

// Use icon prop for consistent sizing
<Button icon={Settings} contentType="icon" aria-label="Settings" />

// Let Button handle icon sizing
<Button icon={Plus} size="xs">Add</Button>
```

‚ùå **Don't**

```tsx
// Don't import entire icon library
import * as Icons from '@ldls/ui-react/symbols';

// Don't modify icon size directly
<Button>
  <Settings style={{ width: '24px' }} />
  Settings
</Button>

// Don't use string-based icon names
<Button icon="settings">Settings</Button>
```

### Performance Considerations

‚úÖ **Do**

```tsx
// Import specific icons for better tree-shaking
import { Plus } from '@ldls/ui-react/symbols';

// Use appropriate size variant
<Button size="xs" icon={Plus} aria-label="Add" />

// Use semantic labels for accessibility
<Button icon={Settings} contentType="icon" aria-label="Open Settings" />
```

‚ùå **Don't**

```tsx
// Don't import all icons
import * as AllIcons from '@ldls/ui-react/symbols';

// Don't use custom sizes when standard ones exist
<Button className="h-[52px]">Custom Height</Button>

// Don't omit aria-label for icon-only buttons
<Button icon={Settings} contentType="icon" />
```
