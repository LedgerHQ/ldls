import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Components/Button/Implementation" />

# Button Component Implementation

## Installation

First, ensure you have the required dependencies installed:

```bash
npm install @ldls/ui-react
```

### Tailwind Configuration

To use the Button component with our custom Tailwind preset, you need to configure your `tailwind.config.ts`:

```typescript
import type { Config } from 'tailwindcss';
import { ledgerLivePreset } from '@ldls/design-core';

const config = {
  content: [
    "./src/**/*.{js,ts,jsx,tsx}", // Your project's files
    "./node_modules/@ledgerhq/ldls/ui-react/dist/**/*.{js,ts,jsx,tsx}" // Ledger UI Kit components
  ],
  presets: [ledgerLivePreset], // the installed tailwind preset
} satisfies Config;

export default config;
```

### Basic Usage

```tsx
import { Button } from '@ldls/ui-react';

function MyComponent() {
  return (
    <Button size="m" appearance="base">
      Click me
    </Button>
  );
}
```

### Custom Styling

While the component comes with predefined styles, you can extend them using Tailwind classes:

```tsx
<Button
  size="m"
  appearance="base"
  className="md:hidden" // Custom responsive width
>
  Custom Button
</Button>
```

### With Icons

The Button component supports icons with automatic size adjustment based on the button size:

```tsx
import { Button, ArrowRight } from '@ldls/ui-react';

function MyComponent() {
  return (
    <Button size="m" appearance="base" icon={ArrowRight}>
      Continue
    </Button>
  );
}
```

### Full Width

Use the `isFull` prop to make the button take the full width of its container:

```tsx
<Button size="m" appearance="base" isFull>
  Full Width Button
</Button>
```

## Do's and Don'ts

The following guidelines are based on our [Button Component API Design ADR](https://ledgerhq.atlassian.net/wiki/spaces/DLS/pages/6003949581/ADR-001+Button+Component+API+Design). These decisions were made to ensure consistency, maintainability, and proper implementation of our design system principles.

### Content Composition

✅ **Do**

```tsx
// Use children for content composition
<Button>
  Accept <em>Terms and Conditions</em>
</Button>

// Pass icon as a component reference
import { Plus } from '@ldls/ui-react';
<Button icon={Plus}>Add Item</Button>
```

❌ **Don't**

```tsx
// Don't use text prop
<Button text="Accept Terms and Conditions" />

// Don't pass icon as a string
<Button icon="Plus">Add Item</Button>

// Don't include icon in children
<Button>
  <Plus /> Add Item
</Button>
```

### Layout and Styling

✅ **Do**

```tsx
// Use className for layout positioning
<Button className="mt-4 ml-2">Submit</Button>

// Use className for positioning
<Button className="absolute top-0 right-0">Close</Button>

// Use className for margins and spacing in layout
<Button className="mx-auto my-4">Centered</Button>

// Use className for different positions between mobile and desktop
<Button className="hidden md:block">Desktop Only</Button>
<Button className="md:hidden">Mobile Only</Button>
```

❌ **Don't**

```tsx
// Don't override button's core styling
<Button className="bg-black">Custom Background</Button>

// Don't modify internal spacing/padding
<Button className="gap-4 p-6">Wrong Spacing</Button>

// Don't override typography - use size prop instead
<Button className="heading-2">Wrong Typography</Button>

// Don't modify hover/focus states
<Button className="hover:bg-interactive-hover">Custom Hover</Button>

// Don't override button's border styling
<Button className="border-2 border-interactive">Custom Border</Button>

// Don't override button's radius
<Button className="rounded-full">Custom Radius</Button>
```

> **Note**: Use `className` only for layout-related utilities (positioning, margins, display properties). The button's core styling (colors, padding, gap, hover states, etc.) and typography should be controlled through the component's props (`appearance`, `size`) to maintain design system consistency. Typography classes are handled automatically based on the button's `size` prop.

### Icon Usage

✅ **Do**

```tsx
// Import icons explicitly
import { Settings, Plus } from '@ldls/ui-react';

// Use icon prop for consistent sizing
<Button icon={Settings} contentType="icon" aria-label="Settings" />

// Let Button handle icon sizing
<Button icon={Plus} size="xs">Add</Button>
```

❌ **Don't**

```tsx
// Don't import entire icon library
import * as Icons from '@ldls/ui-react';

// Don't modify icon size directly
<Button>
  <Settings style={{ width: '24px' }} />
  Settings
</Button>

// Don't use string-based icon names
<Button icon="settings">Settings</Button>
```

### Performance Considerations

✅ **Do**

```tsx
// Import specific icons for better tree-shaking
import { Plus } from '@ldls/ui-react';

// Use appropriate size variant
<Button size="xs" icon={Plus} aria-label="Add" />

// Use semantic labels for accessibility
<Button icon={Settings} contentType="icon" aria-label="Open Settings" />
```

❌ **Don't**

```tsx
// Don't import all icons
import * as AllIcons from '@ldls/ui-react';

// Don't use custom sizes when standard ones exist
<Button className="h-[52px]">Custom Height</Button>

// Don't omit aria-label for icon-only buttons
<Button icon={Settings} contentType="icon" />
```
