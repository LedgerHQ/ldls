import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Components/Tag/Implementation" />

# Tag Component Implementation

## Installation

First, ensure you are connected to the VPN, login to the npm registry and create a `.npmrc` file in your project root:

```bash
npm login --registry=https://jfrog.ledgerlabs.net/artifactory/api/npm/ldls-npm-prod-public/
```

```bash
# .npmrc
@ldls:registry=https://jfrog.ledgerlabs.net/artifactory/api/npm/ldls-npm-prod-public/
```

Then install the packages and their peer dependencies:

```bash
# Install the UI Kit
npm install @ldls/ui-react @ldls/design-core

# Install peer dependencies
npm install tailwindcss@^3.4.0 react@^18.3.1 clsx tailwind-merge class-variance-authority
```

### Tailwind Configuration

To use the Tag component with our custom Tailwind preset, you need to configure your `tailwind.config.ts`:

```typescript
import type { Config } from 'tailwindcss';
import { ledgerLivePreset } from '@ldls/design-core';

const config = {
  content: [
    "./src/**/*.{js,ts,jsx,tsx}", // Your project's files
    "./node_modules/@ldls/ui-react/dist/lib/**/*.{js,ts,jsx,tsx}" // Ledger UI Kit components
  ],
  presets: [ledgerLivePreset], // the installed tailwind preset
} satisfies Config;

export default config;
```

### Basic Usage

```tsx
import { Tag } from '@ldls/ui-react';

function MyComponent() {
  return (
    <Tag size="lg" appearance="accent" label="My Tag" />
  );
}
```

### Custom Styling

While the component comes with predefined styles, you can extend them using Tailwind classes:

```tsx
<Tag
  size="lg"
  appearance="accent"
  label="Custom Tag"
  className="mt-4" // Custom margin
/>
```

### With Icons

The Tag component supports icons with automatic size adjustment based on the tag size:

```tsx
import { Tag } from '@ldls/ui-react';
import { Check } from '@ldls/ui-react/symbols';

function MyComponent() {
  return (
    <Tag size="lg" appearance="success" icon={Check} label="Success" />
  );
}
```

## Do's and Don'ts

### Content Composition

✅ **Do**

```tsx
// Use label for text content
<Tag label="My Tag" />

// Pass icon as a component reference
import { Plus } from '@ldls/ui-react/symbols';
<Tag icon={Plus} label="Add Item" />
```

❌ **Don't**

```tsx
// Don't include icon in label
<Tag label="<Plus /> Add Item" />
```

### Layout and Styling

✅ **Do**

```tsx
// Use className for layout positioning
<Tag className="mt-4 ml-2" label="Submit" />

// Use className for positioning
<Tag className="absolute top-0 right-0" label="New" />
```

❌ **Don't**

```tsx
// Don't override tag's core styling
<Tag className="bg-black" label="Custom Background" />

// Don't modify internal spacing/padding
<Tag className="p-6" label="Wrong Spacing" />

// Don't override typography - use size prop instead
<Tag className="heading-2" label="Wrong Typography" />
```

> **Note**: Use `className` only for layout-related utilities (positioning, margins, display properties). The tag's core styling (colors, padding, etc.) and typography should be controlled through the component's props (`appearance`, `size`) to maintain design system consistency.

### Icon Usage

✅ **Do**

```tsx
// Import icons explicitly
import { Check } from '@ldls/ui-react/symbols';

// Use icon prop for consistent sizing
<Tag icon={Check} label="Success" />
```

❌ **Don't**

```tsx
// Don't import entire icon library
import * as Icons from '@ldls/ui-react/symbols';

// Don't modify icon size directly
<Tag label="Success">
  <Check style={{ width: '24px' }} />
</Tag>

// Don't use string-based icon names
<Tag icon="check" label="Success" />
```

### Performance Considerations

✅ **Do**

```tsx
// Import specific icons for better tree-shaking
import { Check } from '@ldls/ui-react/symbols';

// Use appropriate size variant
<Tag size="sm" icon={Check} label="Success" />
```

❌ **Don't**

```tsx
// Don't import all icons
import * as AllIcons from '@ldls/ui-react/symbols';

// Don't use custom sizes when standard ones exist
<Tag className="h-[52px]" label="Custom Height" />
```
