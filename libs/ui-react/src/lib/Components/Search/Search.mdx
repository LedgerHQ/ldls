import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as SearchStories from './Search.stories';
import { Search } from './Search';

<Meta title="Components/Search/Overview" of={SearchStories} />

# 🔍 Search

## Introduction

The Search component is a specialized input field designed specifically for search functionality. It features a built-in search icon, placeholder text, and automatic clear button for enhanced user experience. Unlike regular inputs, it uses placeholder text instead of floating labels for better search UX patterns.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=2248-3468&m=dev).

## Anatomy

<Canvas of={SearchStories.Default} />
<Controls of={SearchStories.Default} />

> **Layout:** The Search component takes the full width of its container by default. Use wrapper containers to control the desired width.

### Search Icon

Fixed 20px search icon positioned on the left with muted color styling.

<Canvas of={SearchStories.Empty} />

### Placeholder Text

Uses placeholder text instead of floating labels for better search UX. Styled with `text-muted` color.

### Clear Button

Appears automatically when input has content. Use `hideClearButton` to hide it or `onClear` to extend the default clear behavior.

> **Note:** The clear button only clears the input content/value. It does not clear error states - you must handle error state clearing separately in your component logic.

<Canvas of={SearchStories.WithContent} />

### Disabled State

<Canvas of={SearchStories.Disabled} />

### Error State

Supports `aria-invalid` and `errorMessage` props for error handling with proper ARIA labeling.

<Canvas of={SearchStories.Error} />

## Accessibility

- Semantic HTML with proper ARIA attributes
- Keyboard navigation support (Tab, Enter, Escape)
- Screen reader compatible with accessible labels
- Focus management and error state communication

## Advanced Usage

### Debounced Search

For better performance, especially when dealing with API calls or expensive filtering operations, implement debounced search to delay execution until the user stops typing.

<Canvas of={SearchStories.DebouncedSearch} />

This pattern waits 300ms after the user stops typing before filtering results, reducing unnecessary computations and API calls.

## Usage

Use Search for search functionality and data querying. Use Input for form data collection.
