import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as SkeletonStories from './Skeleton.stories';
import { Skeleton } from './Skeleton';
import { CustomTabs, Tab } from '../../../../.storybook/CustomTabs';
import {
  DoVsDontRow,
  DoBlockItem,
  DontBlockItem,
} from '../../../../.storybook/DoVsDont';
import CommonRulesDoAndDont from '../../../../.storybook/DoVsDont/CommonRulesDoAndDont.mdx';

<Meta title='Communication/Skeleton' of={SkeletonStories} />

# Skeleton

<CustomTabs>
  <Tab label="Overview">

## Introduction

Skeleton components provide visual placeholders for content that is loading. They use a pulsing animation to indicate that content is being fetched or processed, improving perceived performance and user experience.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=8004-10676&m=dev).

## Anatomy

<Canvas of={SkeletonStories.Default} />

- **Shape**: Defines the visual placeholder shape (rectangle, circle, etc.)
- **Animation**: Built-in pulse animation to indicate loading state

## Properties

### Overview

<Canvas of={SkeletonStories.Default} />
<Controls of={SkeletonStories.Default} />

### Sizes

Skeletons can be sized using Tailwind CSS classes with pixel values.

<Canvas of={SkeletonStories.Sizes} />

### Shapes

Skeletons can take various shapes depending on the content they're representing.

<Canvas of={SkeletonStories.Shapes} />

## Common Patterns

### List Item Skeleton

A common pattern for list item loading states.

<Canvas of={SkeletonStories.ListItem} />

### Card Skeleton

Skeleton for card-based content layouts.

<Canvas of={SkeletonStories.Card} />

## Best Practices

- **Match Content Shape**: Make skeleton shapes match the actual content they represent
- **Consistent Spacing**: Use consistent spacing between skeleton elements
- **Appropriate Sizing**: Size skeletons to match the expected content dimensions
- **Loading States**: Show skeletons only during actual loading states

</Tab>
<Tab label="Implementation">

```bash
npm install @ledgerhq/ldls-ui-react
```

> **Note**: `@ledgerhq/ldls-design-core` and other peer dependencies (`react`, `tailwindcss`, `clsx`, etc.) are required. See our [Setup Guide â†’](?path=/docs/getting-started-setup-tailwind--docs#1-tailwind-config) for complete installation and Tailwind configuration.

## Basic Usage

```tsx
import { Skeleton } from '@ledgerhq/ldls-ui-react';

function MyComponent() {
  return <Skeleton className='h-16 w-256' />;
}
```

### Custom Styling

While the component comes with predefined styles, you can extend them using Tailwind classes:

```tsx
<Skeleton className='h-40 w-256 rounded-lg bg-accent-subtle'>
  Custom Skeleton
</Skeleton>
```

### Common Patterns

#### List Item Loading

```tsx
<div className='flex items-center space-x-4'>
  <Skeleton className='h-48 w-48 rounded-full' />
  <div className='space-y-2'>
    <Skeleton className='h-16 w-160' />
    <Skeleton className='h-16 w-128' />
  </div>
</div>
```

## Do's and Don'ts

<div className='flex flex-col gap-24'>
  <DoVsDontRow>
    <DoBlockItem
      title='Use className for sizing'
      description='Use pixel values for consistent sizing and styling'
    >

```tsx
<Skeleton className='h-16 w-256' />
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't use arbitrary values"
      description='Avoid arbitrary values or overriding core animation'
    >

{/* prettier-ignore */}
```tsx
<Skeleton className='h-4 w-[200px]' />
```

    </DontBlockItem>

  </DoVsDontRow>

</div>

<CommonRulesDoAndDont />

</Tab>
</CustomTabs>
