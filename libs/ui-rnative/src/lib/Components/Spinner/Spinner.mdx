import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import { CustomTabs, Tab } from '../../../../.storybook/components';
import * as SpinnerStories from './Spinner.stories';
import { DoVsDontRow, DoBlockItem, DontBlockItem } from '../../../../.storybook/components/DoVsDont';
import CommonRulesDoAndDont from '../../../../.storybook/components/DoVsDont/CommonRulesDoAndDont.mdx';
import { Box } from '../Utility/Box';
import { Text } from '../Utility/Text';

<Meta title='Communication/Spinner/Docs' of={SpinnerStories} />

# üåÄ Spinner

<CustomTabs>
  <Tab label="Overview">

The Spinner component provides visual feedback for loading states and background processes. It's a crucial element for maintaining user engagement during asynchronous operations and preventing perceived delays.

## Figma Library

All spinner designs are created and managed in our components library. This ensures consistency across all platforms and use cases.

- üîó **[Figma - Components Library](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=9023-3681&m=dev)**

## Interactive Example

<Canvas of={SpinnerStories.Base} />
<Controls of={SpinnerStories.Base} />

## üé® Colors

The Spinner component supports color customization via the `lx` prop. By default, it adopts the primary text color (`base`), but you can easily customize it using design system color tokens like `muted` or `interactive`.

<Canvas of={SpinnerStories.Colors} />

---

## üìè Sizing

Our spinners are designed to be scalable and available in 7 standard sizes to fit various contexts within the UI, matching our icon sizing system for consistency. The available sizes are: **12, 16, 20, 24, 40, 48** and **56** pixels.

<Canvas of={SpinnerStories.Sizes} />

---

## Usage Guidelines

### When to Use

- **Loading States**: During data fetching, form submissions, or content loading
- **Background Processes**: When operations take longer than 1-2 seconds
- **Screen Transitions**: During navigation between views or routes
- **Button Actions**: Within buttons to indicate processing

### When Not to Use

- **Very Quick Operations**: For processes under 1 second
- **Static Content**: Don't use spinners for content that's already loaded

</Tab>
<Tab label="Implementation">

## Installation

Install and set up the library with our [Setup Guide ‚Üí](?path=/docs/getting-started-setup--docs).


### Basic Usage

Import and use the Spinner component:

```tsx
import React, { useState } from 'react';
import { View } from 'react-native';
import { Spinner } from '@ledgerhq/lumen-ui-rnative';

function MyComponent() {
  const [isLoading, setIsLoading] = useState(false);

  return <View>{isLoading && <Spinner />}</View>;
}
```

### Size Variants

Spinners support predefined size variants that ensure consistent visual hierarchy:

```tsx
import React from 'react';
import { Box, Spinner } from '@ledgerhq/lumen-ui-rnative';

function MyComponent() {
  return (
    <Box lx={{ flexDirection: 'row', alignItems: 'center', gap: 's4' }}>
      <Spinner size={12} />
      <Spinner size={16} />
      <Spinner size={20} />
    </Box>
  );
}
```

### Color Variants

Use the `color` property with design token values to set spinner color.

```tsx
import React from 'react';
import { Spinner } from '@ledgerhq/lumen-ui-rnative';

function MyComponent() {
  return (
    <>
      <Spinner color='base' />
      <Spinner color='muted' />
      <Spinner color='interactive' />
    </>
  );
}
```

## Do's and Don'ts

<Box lx={{ gap: 's24' }}>
  <DoVsDontRow>
    <DoBlockItem
      title='Match spinner size to context'
      description='Use appropriate spinner sizes based on the context and prominence'
    >

{/* prettier-ignore */}
```tsx
// Small inline loading
<Spinner size={12} />

// Prominent loading state
<Spinner size={40} />
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't override spinner size"
      description='Avoid using style or additional props to override spinner dimensions'
    >

{/* prettier-ignore */}
```tsx
// Small inline loading
<Spinner size={12} style={{ width: 6, height: 6 }} />

// Prominent loading state
<Spinner size={40} width={32} height={32} />
```

    </DontBlockItem>

  </DoVsDontRow>

  <DoVsDontRow>
    <DoBlockItem
      title='Provide context with descriptive text'
      description='Pair spinners with text to give users context about what is loading'
    >

{/* prettier-ignore */}
```tsx
<Box lx={{ flexDirection: 'row', alignItems: 'center', gap: 's8' }}>
  <Spinner size={16} />
  <Text>Syncing wallet...</Text>
</Box>
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't show spinners without context"
      description='Avoid showing spinners alone without descriptive text'
    >

{/* prettier-ignore */}
```tsx
<Box lx={{ flexDirection: 'row', alignItems: 'center', gap: 's8' }}>
  <Spinner size={16} />
</Box>
```

    </DontBlockItem>

  </DoVsDontRow>

  <DoVsDontRow>
    <DoBlockItem
      title='Use standard sizes from the design system'
      description='Stick to predefined size values like 12, 16, 20, 24, 40'
    >

{/* prettier-ignore */}
```tsx
<Spinner size={16} />
<Spinner size={24} />
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't use non-standard sizes"
      description='Avoid arbitrary size values that are not part of the design system'
    >

{/* prettier-ignore */}
```tsx
<Spinner size={22} />
<Spinner size={35} />
```

    </DontBlockItem>

  </DoVsDontRow>

  <CommonRulesDoAndDont />
</Box>

</Tab>
</CustomTabs>
