import { Meta, Story, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as CheckboxStories from './Checkbox.stories';
import { Checkbox } from './Checkbox';
import { CustomTabs, Tab } from '../../../../.storybook/CustomTabs';

<Meta title="Components/Checkbox" of={CheckboxStories} />

# ☑️ Checkbox

<CustomTabs>
  <Tab label="Overview">

## Introduction

Checkboxes are form controls that allow users to select one or multiple options from a list. They provide clear visual feedback about the selection state and support various interaction states including hover, focus, and disabled modes.

> View in [Figma](https://www.figma.com/design/JxaLVMTWirCpU0rsbZ30k7/2.-Components-Library?node-id=90-1197&m=dev).

## Anatomy

<Canvas of={CheckboxStories.Base} />

- **Checkbox**: The main interactive element that can be checked or unchecked
- **Check mark**: Visual indicator shown when the checkbox is in a checked state

## Properties

### Overview

<Canvas of={CheckboxStories.Base} />
<Controls of={CheckboxStories.Base} />

### States

Checkboxes support multiple states to provide clear feedback to users:

- **Unchecked**: Default state when not selected
- **Checked**: Selected state with a visible check mark
- **Disabled**: Non-interactive state for both checked and unchecked variants
- **Focus**: Accessible focus state with visible ring indicator

<Canvas of={CheckboxStories.AllStates} />

## Usage Guidelines

### Best Practices

- Use checkboxes when users can select multiple options from a list
- Always provide clear labels that describe what checking the box means
- Group related checkboxes logically
- Use consistent spacing between checkbox options

### Accessibility

- Provide descriptive labels for screen readers
- Ensure sufficient color contrast in all states


</Tab>
<Tab label="Implementation">

## Setup
Install and set up the library with our [Setup Guide →](?path=/docs/getting-started-setup--docs).

## Basic Usage

```tsx
import { Checkbox } from '@ledgerhq/ldls-ui-rnative';

function MyForm() {
  const [isChecked, setIsChecked] = useState(false);

  return (
    <div className="flex items-center space-x-8">
      <Checkbox
        checked={isChecked}
        onCheckedChange={setIsChecked}
      />
      <label>Accept terms and conditions</label>
    </div>
  );
}
```

## Controlled vs Uncontrolled

### Controlled

Use the `checked` and `onCheckedChange` props for full control:

```tsx
const [checked, setChecked] = useState(false);

<Checkbox
  checked={checked}
  onCheckedChange={setChecked}
/>
```

### Uncontrolled

Use `defaultChecked` for simple cases:

```tsx
<Checkbox defaultChecked={true} />
```

## Accessibility Best Practices

### Labels and ARIA

```tsx
// ✅ Associated label
<div className="flex items-center space-x-8">
  <Checkbox id="terms" />
  <label htmlFor="terms">I agree to the terms</label>
</div>

// ✅ ARIA label for standalone checkbox
<Checkbox aria-label="Select all items" />

// ✅ ARIA described by for complex descriptions
<div>
  <Checkbox
    id="marketing"
    aria-describedby="marketing-description"
  />
  <label htmlFor="marketing">Marketing emails</label>
  <p id="marketing-description" className="text-muted body-4">
    Receive promotional offers and product updates
  </p>
</div>
```

### Keyboard Navigation

The Checkbox component automatically supports:

- **Tab**: Navigate to the checkbox
- **Space**: Toggle checked/unchecked state
- **Enter**: Submit form (when inside a form)

## Do's and Don'ts

The following guidelines ensure consistent usage of the Checkbox component and maintain design system principles.

### Layout and Styling

✅ **Do**

````tsx
// Use className for responsive behavior
<Checkbox className="hidden md:block" />

// Use className for margins and positioning
<Checkbox className="mt-2 mr-4" />

❌ **Don't**

```tsx
// Don't override checkbox's core styling
<Checkbox className="bg-base border-muted" />

// Don't modify checkbox size or appearance
<Checkbox className="w-24 h-24 rounded-lg" />

// Don't modify internal spacing or padding
<Checkbox className="p-2" />
````

> **Note**: Use `className` only for layout-related utilities (positioning, margins, display properties). The checkbox's core styling (colors, size, border, focus states, etc.) should be controlled through the design system to maintain consistency.

### Accessibility and Labels

✅ **Do**

```tsx
// Associate labels properly
<div className="flex items-center space-x-8">
  <Checkbox id="newsletter" />
  <label htmlFor="newsletter">Subscribe to newsletter</label>
</div>

// Use aria-label for standalone checkboxes
<Checkbox aria-label="Select all items" />

// Provide descriptions when needed
<Checkbox
  id="terms"
  aria-describedby="terms-description"
/>
```

❌ **Don't**

```tsx
// Don't use unlabeled checkboxes
<Checkbox />
```

### State Management

✅ **Do**

```tsx
// Use controlled components for form state
const [isChecked, setIsChecked] = useState(false);
<Checkbox checked={isChecked} onCheckedChange={setIsChecked} />

// Use defaultChecked for simple uncontrolled cases
<Checkbox defaultChecked={false} />
```

❌ **Don't**

```tsx
// Don't mix controlled and uncontrolled patterns
<Checkbox checked={isChecked} defaultChecked={true} />

// Don't ignore state change handlers
<Checkbox checked={isChecked} />

// Don't use string values for checked state
<Checkbox checked="true" />
```

</Tab>
</CustomTabs>
