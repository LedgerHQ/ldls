import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as IconButtonStories from './IconButton.stories';
import { IconButton } from './IconButton';
import { CustomTabs, Tab } from '../../../../.storybook/components';
import { DoVsDontRow, DoBlockItem, DontBlockItem } from '../../../../.storybook/components/DoVsDont';
import CommonRulesDoAndDont from '../../../../.storybook/components/DoVsDont/CommonRulesDoAndDont.mdx';
import { Box } from '../Utility';

<Meta title='Action/IconButton' of={IconButtonStories} />

# ðŸ”˜ IconButton

<CustomTabs>
  <Tab label="Overview">

## Introduction

**IconButton** is a specialized button component that displays only an icon. It's ideal for actions that can be represented by a clear, universally understood icon, such as `close`, `settings`, or `favorite`.

## Properties

### Overview

<Canvas of={IconButtonStories.Base} />
<Controls of={IconButtonStories.Base} />

### Appearance

IconButton supports the same appearances as the standard Button:

- accent
- base (default)
- gray
- transparent
- no-background
- red

<Canvas of={IconButtonStories.AppearanceShowcase} />

### Size

IconButtons come in four different sizes:


- `xs` (**32px**)
- `sm` (**40px**)
- `md` (**48px**, default)
- `lg` (**56px**)


<Canvas of={IconButtonStories.SizesShowcase} />

### States

<Canvas of={IconButtonStories.StatesShowcase} />

  </Tab>
  <Tab label="Implementation">

## Setup

Install and set up the library with our [Setup Guide â†’](?path=/docs/getting-started-setup--docs).

### Basic Usage

```tsx
import { IconButton } from '@ledgerhq/lumen-ui-rnative';
import { Settings } from '@ledgerhq/lumen-ui-rnative/symbols';

function MyComponent() {
  return (
    <IconButton
      accessibilityLabel='Settings'
      icon={Settings}
      size='md'
      appearance='base'
    />
  );
}
```

### Custom Styling

While the component comes with predefined styles, you can extend them using the `lx` prop for token-based styling:

```tsx
<IconButton accessibilityLabel='Close' icon={Close} lx={{ marginTop: 's4' }} />
```

### Full Width

Use the `isFull` prop to make the button take the full width of its container:

```tsx
<IconButton
  accessibilityLabel='Close'
  icon={Close}
  size='md'
  appearance='base'
  isFull
  onPress={() => {}}
/>
```

### Loading State

Use the `loading` prop to show a spinner and disable interaction:

```tsx
<IconButton
  accessibilityLabel='Close'
  icon={Close}
  size='md'
  appearance='base'
  loading={isLoading}
  disabled={isLoading}
  onPress={() => {}}
/>
```

### Pressable Integration

The Button component is built on React Native's `Pressable` and accepts all its props:

```tsx
<IconButton
  accessibilityLabel='Close'
  icon={Close}
  size='md'
  appearance='base'
  onPress={() => console.log('Pressed!')}
  onPressIn={() => console.log('Press started')}
  onPressOut={() => console.log('Press ended')}
  disabled={false}
/>
```

## Do's and Don'ts

<Box lx={{ flexDirection: 'column', gap: 's24' }}>
  <DoVsDontRow>
    <DoBlockItem
      title='Use icon prop for consistent sizing'
      description='Pass icon as a component reference and let IconButton handle sizing automatically'
    >

{/* prettier-ignore */}
```tsx
import { Settings } from '@ledgerhq/lumen-ui-rnative/symbols';

<IconButton accessibilityLabel='Settings' icon={Settings} size='md' />
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't modify icon size directly"
      description='Avoid passing icon size prop or overriding dimensions through lx'
    >

{/* prettier-ignore */}
```tsx
import { Settings } from '@ledgerhq/lumen-ui-rnative/symbols';

<IconButton accessibilityLabel='Settings' icon={Settings} lx={{ width: 's32', height: 's32' }} />
```

    </DontBlockItem>

  </DoVsDontRow>

  <DoVsDontRow>
    <DoBlockItem
      title='Always provide accessibilityLabel'
      description='Icon-only buttons require descriptive accessibility labels for screen readers'
    >

{/* prettier-ignore */}
```tsx
import { Settings } from '@ledgerhq/lumen-ui-rnative/symbols';

<IconButton accessibilityLabel='Open settings menu' icon={Settings} />
```

    </DoBlockItem>
    <DontBlockItem
      title="Don't omit accessibilityLabel"
      description='Icon buttons without labels are not accessible to screen reader users'
    >

{/* prettier-ignore */}
```tsx
import { Settings } from '@ledgerhq/lumen-ui-rnative/symbols';

<IconButton icon={Settings} />
```

    </DontBlockItem>

  </DoVsDontRow>

  <CommonRulesDoAndDont />
</Box>

  </Tab>
</CustomTabs>
