import { Meta, Canvas, Controls } from '@storybook/addon-docs/blocks';
import * as RadialGradientStories from './RadialGradient.stories';
import { CustomTabs, Tab } from '../../../../../../.storybook/components';

<Meta title='Utility/RadialGradient' of={RadialGradientStories} />

# RadialGradient

<CustomTabs>
  <Tab label="Overview ">

## Introduction

RadialGradient renders a radial gradient background using `react-native-svg`. 
It extends Box, supporting all `lx` style props for layout and sizing.

## Anatomy

<Canvas of={RadialGradientStories.Base} />
<Controls of={RadialGradientStories.Base} />

## Properties

### Center Position

Control where the gradient originates using the `center` prop:

<Canvas of={RadialGradientStories.CenterPositionShowcase} />

### With Children

Content renders on top of the gradient:

<Canvas of={RadialGradientStories.WithChildren} />

### Multiple Stops

The `offset` prop controls where each color appears from center to edge (0 = center, 1 = edge).  
When omitted, stops are distributed evenly.  
For example, 3 stops without offsets will be placed at 0, 0.5, and 1.

<Canvas of={RadialGradientStories.WithMultipleStops} />

</Tab>

  <Tab label="Implementation ">

## Setup

Install and set up the library with our [Setup Guide →](?path=/docs/getting-started-setup--docs).

## Basic Usage

By default, the gradient radiates from center outward. Use design tokens for colors to ensure theme consistency.

```tsx
import { RadialGradient } from '@ledgerhq/lumen-ui-rnative';

<RadialGradient
  stops={[{ color: 'accent' }, { color: 'active', opacity: 0 }]}
  lx={{ height: 's192', width: 's192', borderRadius: 'lg' }}
/>
```

### Custom Center

The `center` prop uses normalized coordinates (0-1). `{ x: 0, y: 0 }` is top-left, `{ x: 1, y: 1 }` is bottom-right. 
Useful for spotlight or vignette effects.

```tsx
<RadialGradient
  center={{ x: 0, y: 0 }}
  stops={[{ color: 'accent' }, { color: 'active' }]}
  lx={{ height: 's80', width: 's80' }}
/>
```

### With Children

The gradient acts as a background. Children are rendered on top and define the component's height when no explicit size is set.

```tsx
<RadialGradient
  center={{ x: 0.5, y: 0.3 }}
  stops={[{ color: 'accent' }, { color: 'active', opacity: 0 }]}
  lx={{ padding: 's24', borderRadius: 'lg' }}
>
  <Text lx={{ color: 'base' }}>Content on gradient</Text>
</RadialGradient>
```

### Stops API

Each stop defines a color at a distance from center. Use `opacity: 0` for fade-out effects. 
Colors support both design tokens (`'accent'`) and raw values (`'#FF6B6B'`).

**Default behavior when `offset` is omitted:** stops are evenly distributed. 
With 2 stops → `[0, 1]`. With 3 stops → `[0, 0.5, 1]`. With 4 stops → `[0, 0.33, 0.66, 1]`.

```tsx
type GradientStop = {
  color: BackgroundColorToken | string;  // Token or raw color
  offset?: number;   // 0-1, auto-spread if omitted
  opacity?: number;  // 0-1, defaults to 1
}
```

</Tab>
</CustomTabs>
