import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Style System/useCreate" />

# useCreate

`LumenStyleSheet.useCreate` is a hook for creating memoized, theme-aware stylesheets in React Native.

### Basic Usage

```tsx
import { LumenStyleSheet } from '@ledgerhq/lumen-ui-rnative/styles';
import { View, Text } from 'react-native';

const MyComponent = () => {
  const styles = LumenStyleSheet.useCreate((theme) => ({
    container: {
      backgroundColor: theme.colors.bg.base,
      padding: theme.spacings.s16,
      borderRadius: theme.borderRadius.md,
    },
    text: {
      ...theme.typographies.body1,
      color: theme.colors.text.base,
    },
  }));

  return (
    <View style={styles.container}>
      <Text style={styles.text}>Hello World</Text>
    </View>
  );
};
```

### Memoization

Styles are memoized based on the dependency array (second argument). Re-renders only create new styles when dependencies change:

```tsx
const styles = LumenStyleSheet.useCreate(
  (theme) => ({
    container: {
      backgroundColor: isActive ? theme.colors.bg.accent : theme.colors.bg.base,
      padding: theme.spacings.s16,
    },
  }),
  [isActive] // Only recreate when isActive changes
);
```

### Pressed State Pattern

For Pressable components, pass `pressed` state to `useCreate`:

```tsx
import { LumenStyleSheet } from '@ledgerhq/lumen-ui-rnative/styles';
import { Pressable } from '@ledgerhq/lumen-ui-rnative';

const InteractiveCard = () => {
  return (
    <Pressable lx={{ borderRadius: 'md' }}>
      {({ pressed }) => <CardContent pressed={pressed} />}
    </Pressable>
  );
};

const CardContent = ({ pressed }: { pressed: boolean }) => {
  const styles = LumenStyleSheet.useCreate(
    (theme) => ({
      container: {
        backgroundColor: pressed 
          ? theme.colors.bg.accentPressed 
          : theme.colors.bg.accent,
        padding: theme.spacings.s16,
      },
    }),
    [pressed]
  );

  return <View style={styles.container}>...</View>;
};
```
