import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Getting Started/Theme" />

# Theme Provider

The ThemeProvider manages your app's theme mode (light/dark) and provides theme tokens to all components.

## Basic Setup

Wrap your app with `ThemeProvider` and pass your theme objects:

```tsx
import { ThemeProvider } from '@ledgerhq/ldls-ui-rnative';
import { ledgerLiveDarkTheme, ledgerLiveLightTheme } from '@ledgerhq/ldls-design-core';

function App() {
  return (
    <ThemeProvider 
      themes={{ 
        dark: ledgerLiveDarkTheme, 
        light: ledgerLiveLightTheme 
      }}
      defaultMode="system"
    >
      <YourApp />
    </ThemeProvider>
  );
}
```

## Theme Modes

The `defaultMode` prop controls the initial theme:

- `"system"` - Follows device settings (default)
- `"dark"` - Forces dark mode
- `"light"` - Forces light mode

```tsx
<ThemeProvider 
  themes={{ dark: ledgerLiveDarkTheme, light: ledgerLiveLightTheme }}
  defaultMode="dark"
>
  <App />
</ThemeProvider>
```

## Changing Theme Mode

Use the `useTheme` hook to control theme mode at runtime:

```tsx
import { useColorScheme } from '@ledgerhq/ldls-ui-rnative';

const ThemeToggle = () => {
  const { mode, toggleMode, setMode } = useColorScheme();
  
  return (
    <Button onPress={toggleMode}>
      Current: {mode}
    </Button>
  );
};
```

When the mode changes, `Appearance.setColorScheme` is automatically called to update the system theme.


## Internationalization
The ThemeProvider also manages the appâ€™s locale using React Context.  
You can just pass the locale to the `ThemeProvider` and the translations will be loaded automatically.

```tsx
import { ThemeProvider, type SupportedLocale } from '@ledgerhq/ldls-ui-rnative';

function AppProviders() {
  const [locale, setLocale] = useState<SupportedLocale>('en');
  return (
    <ThemeProvider locale={locale}>
      <App />
      <Button onClick={() => setLocale('fr')}>Switch to French</Button>
    </ThemeProvider>
  );
}
```
