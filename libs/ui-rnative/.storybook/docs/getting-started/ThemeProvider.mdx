import { Meta } from '@storybook/addon-docs/blocks';

<Meta title="Getting Started/Theme" />

# Theme Provider

The ThemeProvider manages your app's theme mode (light/dark) and provides theme tokens to all components.

## Basic Setup

Wrap your app with `ThemeProvider` and pass your theme objects:

```tsx
import { ThemeProvider } from '@ledgerhq/lumen-ui-rnative';
import { ledgerLiveThemes } from '@ledgerhq/lumen-design-core';

function App() {
  return (
    <ThemeProvider 
      themes={ledgerLiveThemes}
      colorScheme="dark"
    >
      <YourApp />
    </ThemeProvider>
  );
}
```

## Color Scheme

The `colorScheme` prop controls the theme color scheme.
If not provided, the theme will follow the device settings.

- `"dark"` - Forces dark mode
- `"light"` - Forces light mode



```tsx
<ThemeProvider 
  themes={ledgerLiveThemes}
  colorScheme="dark"
>
  <App />
</ThemeProvider>
```

## Changing Theme Mode

If the ThemeProvider is uncontrolled, you can use the `LumenStyleSheet.useTheme` hook to control theme mode at runtime:

```tsx
import { LumenStyleSheet } from '@ledgerhq/lumen-ui-rnative/styles';

const ThemeToggle = () => {
  const { colorScheme, toggleColorScheme, setColorScheme } = LumenStyleSheet.useTheme();
  
  return (
    <Button onPress={toggleColorScheme}>
      Current: {colorScheme}
    </Button>
  );
};
```

When the colorScheme changes, `Appearance.setColorScheme` is automatically called to update the system theme.


## Internationalization
The ThemeProvider also manages the appâ€™s locale using React Context.  
You can just pass the locale to the `ThemeProvider` and the translations will be loaded automatically.

```tsx
import { ThemeProvider, type SupportedLocale } from '@ledgerhq/lumen-ui-rnative';

function AppProviders() {
  const [locale, setLocale] = useState<SupportedLocale>('en');
  return (
    <ThemeProvider locale={locale}>
      <App />
      <Button onClick={() => setLocale('fr')}>Switch to French</Button>
    </ThemeProvider>
  );
}
```
