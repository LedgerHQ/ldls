---
'@ledgerhq/lumen-design-core': patch
'@ledgerhq/lumen-ui-react': patch
---

BREAKING_CHANGE(ui-react): Upgrade Tailwind to v4

## Migration Guide

### 1. Upgrade Tailwind CSS

Run the official upgrade tool to automatically migrate your project:

```bash
npx @tailwindcss/upgrade
```

This will update your dependencies, migrate your CSS configuration, and update any deprecated utility classes.

For detailed migration steps, see the official [Tailwind CSS v4 Upgrade Guide](https://tailwindcss.com/docs/upgrade-guide).

### 2. Install PostCSS Plugin

In Tailwind v4, the PostCSS plugin no longer lives in the `tailwindcss` package. Install the dedicated package:

```bash
npm install -D @tailwindcss/postcss
```

#### Using Vite

If you're using Vite, we recommend migrating from the PostCSS plugin to the dedicated Vite plugin for improved performance and the best developer experience:

```bash
npm install -D @tailwindcss/vite
```

```ts
// vite.config.ts
import { defineConfig } from 'vite';
import tailwindcss from '@tailwindcss/vite';

export default defineConfig({
  plugins: [tailwindcss()],
});
```

### 3. Update ESLint Plugin

Replace `eslint-plugin-tailwindcss` with [eslint-plugin-better-tailwindcss](https://github.com/schoero/eslint-plugin-better-tailwindcss).

> **Why?** The original `eslint-plugin-tailwindcss` does not support Tailwind v4 and has been inactive for a while ([see issue](https://github.com/francoismassart/eslint-plugin-tailwindcss/issues/325)).

```bash
npm install -D eslint-plugin-better-tailwindcss
```

Configure the `entryPoint` in your ESLint config to point to your main Tailwind stylesheet (e.g., `./src/styles.css`). See our [eslint.config.mjs](https://github.com/LedgerHQ/lumen-design-system/blob/main/libs/ui-react/eslint.config.mjs) for a complete configuration example.

> **Note:** In NX monorepos, you might need the beta version due to an issue with `entryPoint` not being resolved correctly ([see issue](https://github.com/schoero/eslint-plugin-better-tailwindcss/issues/154)):
>
> ```bash
> npm install -D eslint-plugin-better-tailwindcss@beta
> ```
